{% load i18n form_tags button_tags icon_tags %}

<div class="upload-interface">
    {#  if local upload is enabled #}
    {% render_form id="document-upload" form=form method="POST" hxencoding="multipart/form-data" hxpost=hxpost_document_action hxtarget="#form_upload" submit_text=_("Bestand uploaden") extra_classes="case-detail-form" %}
        {% csrf_token %}
        <div id="info_container" class="info-container form__control__info">
            <div class="upload-interface__info">

                <fieldset class="fieldset-container">
                    <div class="drive">{% icon icon="insert_drive_file" outlined=True icon_position="before" %}</div>
                    <div class="fieldset__content">
                        <div id="upload_error" class="upload-info upload-info__error">
                            <span>{% trans "Selecteer meer bestanden" %} {% icon icon="arrow_downward" outlined=True icon_position="before" %}</span></div>
                        <div id="upload_name" class="upload-info upload-info__name"></div>
                        <div id="upload_size" class="upload-info upload-info__size"></div>
                    </div>
                    <div class="close">{% button id="close_upload" icon="cancel" type='reset' text='' transparent=True icon_outlined=True icon_position="before" %}</div>
                </fieldset>
            </div>
        </div>

{#        <div class="form__control__info">{% input form.title no_label=False no_help=True id="id_title" %}</div>#}
{##}
        <div class="form__control__info">{% input form.type no_label=False no_help=True class="label input" id="id_type" extra_classes="file-type__select" %}</div>

        <div class="form__control upload">
            <div class="upload__container">
                <div class="upload__selector">
                {% file_input form.file text=_("Selecteer bestanden") no_label=False no_help=True extra_classes="file-upload" %}
                </div>

                {# Show selected files and errors #}
                <fieldset class="fieldset fieldset--files"><div id="fileList" class="file-divs"></div></fieldset>

                <div class="form__submit">
                    {% button_row %}
                        {% button type="submit" text=_("Upload documenten") id="submit_upload" primary=True %}
                    {% endbutton_row %}
                </div>
            </div>
        </div>
    {% endrender_form %}
</div>
