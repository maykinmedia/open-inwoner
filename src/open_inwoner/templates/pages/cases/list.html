{% extends 'master.html' %}
{% load i18n icon_tags link_tags anchor_menu_tags utils %}

{% block sidebar_content %}
{% anchor_menu anchors=anchors desktop=True %}
{% endblock sidebar_content %}

{% block content %}
    <h1 class="h1" id="title">{% trans "Mijn aanvragen" %}</h2>

    <div class="cases">
        <h2 class="h2" id="pending_apps">{% trans "Lopende aanvragen" %}</h2>
        <table class="table table--space-medium">
            <thead class="table__heading">
                <tr>
                    <td class="table__item">{% trans "Identificatie" %}</td>
                    <td class="table__item">{% trans "Omschrijving" %}</td>
                    <td class="table__item">{% trans "Startdatum" %}</td>
                    <td class="table__item">{% trans "Status" %}</td>
                </tr>
            </thead>

            <tbody>
                {% for case in open_cases %}
                    <tr>
                        <td class="table__item">{{ case.identificatie }}</td>
                        <td class="table__item table__item--color-gray-dark table__item--no-lb">{{ case.omschrijving }}</td>
                        <td class="table__item table__item--color-gray-dark table__item--no-lb">{{ case.startdatum }}</td>
                        <td class="table__item table__item--color-gray-dark table__item--no-lb">
                            {% link href="accounts:case_status" object_id=case.uuid icon="arrow_forward" primary=True %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="cases">
        <h2 class="h2" id="completed_apps">{% trans "Afgeronde aanvragen" %}</h2>
        <table class="table table--space-medium">
            <thead class="table__heading">
                <tr>
                    <td class="table__item">{% trans "Identificatie" %}</td>
                    <td class="table__item">{% trans "Omschrijving" %}</td>
                    <td class="table__item">{% trans "Startdatum" %}</td>
                    <td class="table__item">{% trans "Einddatum" %}</td>
                </tr>
            </thead>

            <tbody>
                {% for case in closed_cases %}
                    <tr>
                        <td class="table__item">{{ case.identificatie }}</td>
                        <td class="table__item table__item--color-gray-dark">{{ case.omschrijving }}</td>
                        <td class="table__item table__item--color-gray-dark table__item--no-lb">{{ case.startdatum }}</td>
                        <td class="table__item table__item--color-gray-dark table__item--no-lb">{{ case.einddatum }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock content %}
